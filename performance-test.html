<!DOCTYPE html>
<html>
<head>
  <title>Performance Analysis Tool</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      line-height: 1.6;
    }
    h1, h2, h3 { color: #39817c; }
    code {
      background: #f5f5f5;
      padding: 2px 4px;
      border-radius: 3px;
    }
    pre {
      background: #f5f5f5;
      padding: 10px;
      border-radius: 5px;
      overflow-x: auto;
    }
    button {
      background: #39817c;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 4px;
      cursor: pointer;
      margin: 5px 0;
    }
    button:hover {
      background: #2d6663;
    }
    .result {
      margin-top: 20px;
      padding: 15px;
      background: #f0f9f8;
      border-radius: 5px;
      border-left: 4px solid #39817c;
    }
  </style>
</head>
<body>
  <h1>LearningCrypto Homepage Performance Analysis</h1>
  
  <h2>Instructions</h2>
  <p>This tool will help analyze the performance of the LearningCrypto homepage. Follow these steps:</p>
  <ol>
    <li>Open your app at <a href="http://localhost:3000" target="_blank">http://localhost:3000</a></li>
    <li>Open browser DevTools (F12 or Cmd+Option+I)</li>
    <li>Go to the Performance tab</li>
    <li>Click "Start recording" and interact with the homepage, focusing on areas with jittery behavior</li>
    <li>Stop recording after 5-10 seconds</li>
    <li>Analyze the results, looking for long frames (red bars at the top)</li>
  </ol>

  <h2>Common Performance Issues</h2>
  <ul>
    <li><strong>Layout thrashing</strong>: Rapid, repeated DOM reads/writes causing forced reflows</li>
    <li><strong>Heavy animations</strong>: CSS animations using non-optimized properties</li>
    <li><strong>Large DOM</strong>: Too many elements being rendered and animated</li>
    <li><strong>Unoptimized images</strong>: Large images without proper optimization</li>
    <li><strong>JavaScript blocking the main thread</strong>: Heavy calculations or processing</li>
  </ul>

  <h2>Optimizations to Consider</h2>
  <ul>
    <li>Use <code>will-change</code> CSS property for elements that animate frequently</li>
    <li>Replace CSS animations with transforms and opacity changes when possible</li>
    <li>Reduce DOM complexity, especially in animated areas</li>
    <li>Implement proper lazy loading for below-the-fold content</li>
    <li>Move heavy processing to Web Workers</li>
    <li>Implement debouncing for event handlers (especially on resize/scroll)</li>
    <li>Use <code>transform: translateZ(0)</code> or <code>will-change: transform</code> to trigger GPU acceleration</li>
    <li>Batch DOM operations using <code>requestAnimationFrame</code></li>
  </ul>

  <h2>Performance Checklist</h2>
  <form id="checklistForm">
    <div>
      <input type="checkbox" id="check1"> 
      <label for="check1">Main thread blocking (long yellow blocks in performance recording)</label>
    </div>
    <div>
      <input type="checkbox" id="check2"> 
      <label for="check2">Layout shifts (elements moving unexpectedly)</label>
    </div>
    <div>
      <input type="checkbox" id="check3"> 
      <label for="check3">Frequent repaints (lots of green in paint events)</label>
    </div>
    <div>
      <input type="checkbox" id="check4"> 
      <label for="check4">Jittery animations (inconsistent frame rate)</label>
    </div>
    <div>
      <input type="checkbox" id="check5"> 
      <label for="check5">Heavy background effects (blur filters, gradients)</label>
    </div>
    <div>
      <input type="checkbox" id="check6"> 
      <label for="check6">Too many concurrent animations</label>
    </div>
    <button type="button" id="generateReport">Generate Optimization Report</button>
  </form>

  <div id="result" class="result" style="display: none;"></div>

  <script>
    document.getElementById('generateReport').addEventListener('click', function() {
      // Get all checked items
      const checkedItems = [];
      document.querySelectorAll('#checklistForm input:checked').forEach(item => {
        checkedItems.push(item.nextElementSibling.textContent.trim());
      });
      
      // Generate and display report
      let report = "<h3>Performance Issues Detected</h3>";
      
      if (checkedItems.length === 0) {
        report += "<p>No issues selected. Please check the issues you observed.</p>";
      } else {
        report += "<ul>";
        checkedItems.forEach(item => {
          report += `<li>${item}</li>`;
        });
        report += "</ul>";
        
        report += "<h3>Recommended Optimizations</h3><ul>";
        
        if (checkedItems.includes("Main thread blocking (long yellow blocks in performance recording)")) {
          report += "<li>Move heavy computations to Web Workers</li>";
          report += "<li>Break up long-running JavaScript tasks</li>";
          report += "<li>Use debouncing and throttling for event handlers</li>";
        }
        
        if (checkedItems.includes("Layout shifts (elements moving unexpectedly)")) {
          report += "<li>Set explicit dimensions for content that loads dynamically</li>";
          report += "<li>Add height/width for images and elements that load after initial render</li>";
          report += "<li>Reduce the impact of dynamic content loading</li>";
        }
        
        if (checkedItems.includes("Frequent repaints (lots of green in paint events)")) {
          report += "<li>Use transform/opacity for animations instead of properties that trigger repaints</li>";
          report += "<li>Batch DOM updates with requestAnimationFrame</li>";
          report += "<li>Use CSS contain property to isolate subtrees</li>";
        }
        
        if (checkedItems.includes("Jittery animations (inconsistent frame rate)")) {
          report += "<li>Simplify animations, especially on lower-end devices</li>";
          report += "<li>Use will-change property to hint browser about elements that will animate</li>";
          report += "<li>Avoid animating expensive properties (box-shadow, filter, etc.)</li>";
        }
        
        if (checkedItems.includes("Heavy background effects (blur filters, gradients)")) {
          report += "<li>Reduce the size or complexity of blur effects</li>";
          report += "<li>Consider using pre-rendered effects for static elements</li>";
          report += "<li>Use more efficient gradient techniques or reduce the number of gradient layers</li>";
        }
        
        if (checkedItems.includes("Too many concurrent animations")) {
          report += "<li>Reduce the number of simultaneously animated elements</li>";
          report += "<li>Stagger animations to spread the workload</li>";
          report += "<li>Simplify animations for less powerful devices</li>";
        }
        
        report += "</ul>";
      }
      
      document.getElementById('result').innerHTML = report;
      document.getElementById('result').style.display = 'block';
    });
  </script>
</body>
</html> 